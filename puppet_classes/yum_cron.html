<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Puppet Class: yum_cron
  
    &mdash; Documentation by YARD 0.9.20
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "puppet_classes::yum_cron";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../puppet_class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (y)</a> &raquo;
    <span class='title'><span class='object_link'>Puppet Classes</span></span>
     &raquo; 
    <span class="title">yum_cron</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="../puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Puppet Class: yum_cron</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd><span class='object_link'><a href="yum_cron_3A_3Aparams.html" title="puppet_classes::yum_cron::params (puppet_class)">yum_cron::params</a></span></dd>
  </dl>
  
  
  <dl>
    <dt>Defined in:</dt>
    <dd>
      manifests/init.pp
    </dd>
  </dl>
</div>

  <h2>Summary</h2>
  Manage yum-cron

<h2>Overview</h2>
<div class="docstring">
  <div class="discussion">
    
  </div>
</div>


<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ensure</span>
      
      
        <span class='type'>(<tt>Enum['present', 'absent']</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;present&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Defines the presence of <code>yum-cron</code>. Valid values are
&#39;present&#39; and &#39;absent&#39;. Default is
<code>&#39;present&#39;</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>enable</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Boolean that defines the state of <code>yum-cron</code>. Default is
<code>true</code></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>download_updates</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Boolean that determines if updates should be automatically downloaded.
Default is <code>true</code></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>apply_updates</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Boolean that determines if updates should be automatically installed.
Default is <code>false</code>. If set to <code>true</code> then
<code>download_updates</code> ignored.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>debug_level</span>
      
      
        <span class='type'>(<tt>Pattern[/^(?:-)?[0-9]$/]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$yum_cron::params::debug_level</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Sets debug level. Default varies based on OS version Applies only to EL7
and EL6.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>randomwait</span>
      
      
        <span class='type'>(<tt>Pattern[/^[0-9]+$/]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$yum_cron::params::randomwait</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Sets random wait time. Default varies based on OS version Applies only to
EL7 and EL6.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>mailto</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;root&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Address notified about updates. Default is &#39;root&#39; Applies only to
EL7 and EL6.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>systemname</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$::fqdn</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Name of system used in notifications. Default is <code>$::fqdn</code>
Applies only to EL7 and EL6.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>days_of_week</span>
      
      
        <span class='type'>(<tt>Pattern[/^[0-6]+$/]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;0123456&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Days of the week that yum-cron will run. Default is
<code>&#39;0123456&#39;</code> Applies only to EL6.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>cleanday</span>
      
      
        <span class='type'>(<tt>Pattern[/^[0-6]$/]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;0&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Day of the week yum-cron will cleanup. Default is &#39;0&#39; Applies only
to EL6.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>update_cmd</span>
      
      
        <span class='type'>(<tt>Yum_cron::Update_cmd</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;default&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The kind of updates to use. Default is &#39;default&#39; Applies only to
EL7. Valid values: * default = yum upgrade * security = yum –security
upgrade * security-severity:Critical = yum –sec-severity=Critical upgrade *
minimal = yum –bugfix upgrade-minimal * minimal-security = yum –security
upgrade-minimal * minimal-security-severity:Critical =
–sec-severity=Critical upgrade-minimal</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>update_messages</span>
      
      
        <span class='type'>(<tt>Enum['yes','no']</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;yes&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Determines whether a message should be emitted when updates are available,
downloaded, and applied. Default is &#39;yes&#39; Applies only to EL7.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>email_host</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;localhost&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Host used to send email messages. Default is &#39;localhost&#39; Applies
only to EL7.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>extra_configs</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Hash that can be used to define additional configurations. Default is {}
Applies only to EL7 and EL6.</p>

<p>The Hash is passed to <code>create_resources</code>. For EL7 the hash
defines additional <code>yum_cron_config</code> resources. For EL6 the hash
defines additional <code>shellvar</code> resources.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>extra_hourly_configs</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Hash that can be used to define additional hourly configurations. Default
is {} Applies only to EL7.</p>

<p>The Hash is passed to <code>create_resources</code>. For EL7 the hash
defines additional <code>yum_cron_hourly_config</code> resources.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>yum_autoupdate_ensure</span>
      
      
        <span class='type'>(<tt>Enum['undef', 'UNSET', 'absent', 'disabled']</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;disabled&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Defines how to handle yum-autoupdate on Scientific Linux systems. Default
is &#39;disabled&#39; Applies only to Scientific Linux. Valid values: *
&#39;disabled&#39; (default) - Sets ENABLED=&#39;false&#39; in
/etc/sysconfig/yum-autoupdate. * &#39;absent&#39; - Uninstall the
yum-autoupdate package. * &#39;undef&#39; or &#39;UNSET&#39; - Leave
yum-autoupdate unmanaged.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>package_ensure</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The ensure value passed to yum-cron package resource. Default is
<code>undef</code> When <code>undef</code>, the value passed to the package
resources is based on this class&#39; <code>ensure</code> parameter value.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>package_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$yum_cron::params::package_name</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>yum-cron package name. Default is <code>&#39;yum-cron&#39;</code></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$yum_cron::params::service_name</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>yum-cron service name. Default is <code>&#39;yum-cron&#39;</code></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_ensure</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The ensure value passed to yum-cron service resource. Default is
<code>undef</code> When <code>undef</code>, the value passed to the service
resources is based on this class&#39; <code>ensure</code> and
<code>enable</code> parameter values.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_enable</span>
      
      
        <span class='type'>(<tt>Optional[Boolean]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The ensure value passed to yum-cron package resource. Default is
<code>undef</code> When <code>undef</code>, the value passed to the service
resources is based on this class&#39; <code>ensure</code> and
<code>enable</code> parameter values.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_hasstatus</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$yum_cron::params::service_hasstatus</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Service hasstatus property. Default is <code>true</code></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_hasrestart</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$yum_cron::params::service_hasrestart</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Service hasrestart property. Default is <code>true</code></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>config_path</span>
      
      
        <span class='type'>(<tt>Stdlib::Absolutepath</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$yum_cron::params::config_path</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Path to yum-cron configuration. Default is based on OS version.</p>
</div>
      
    </li>
  
</ul>


</div><div class="method_details_list">
  <table class="source_code">
    <tr>
      <td>
        <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173</pre>
      </td>
      <td>
        <pre class="code"><span class="info file"># File 'manifests/init.pp', line 87</span>

class yum_cron (
  Enum[&#39;present&#39;, &#39;absent&#39;] $ensure = &#39;present&#39;,
  Boolean $enable = true,
  Boolean $download_updates = true,
  Boolean $apply_updates = false,
  # EL7/EL6 only options
  Pattern[/^(?:-)?[0-9]$/] $debug_level = $yum_cron::params::debug_level,
  Pattern[/^[0-9]+$/] $randomwait = $yum_cron::params::randomwait,
  String $mailto = &#39;root&#39;,
  String $systemname = $::fqdn,
  # EL6 only options
  Pattern[/^[0-6]+$/] $days_of_week = &#39;0123456&#39;,
  Pattern[/^[0-6]$/] $cleanday = &#39;0&#39;,
  # EL7 only options
  Yum_cron::Update_cmd $update_cmd = &#39;default&#39;,
  Enum[&#39;yes&#39;,&#39;no&#39;] $update_messages = &#39;yes&#39;,
  String $email_host = &#39;localhost&#39;,
  # Misc configs
  Hash $extra_configs = {},
  Hash $extra_hourly_configs = {},
  # Scientific Linux configs
  Enum[&#39;undef&#39;, &#39;UNSET&#39;, &#39;absent&#39;, &#39;disabled&#39;] $yum_autoupdate_ensure  = &#39;disabled&#39;,
  # Package, Service and Config params
  Optional[String] $package_ensure = undef,
  String $package_name = $yum_cron::params::package_name,
  String $service_name = $yum_cron::params::service_name,
  Optional[String] $service_ensure = undef,
  Optional[Boolean] $service_enable = undef,
  Boolean $service_hasstatus = $yum_cron::params::service_hasstatus,
  Boolean $service_hasrestart = $yum_cron::params::service_hasrestart,
  Stdlib::Absolutepath $config_path = $yum_cron::params::config_path,
) inherits yum_cron::params {

  case $ensure {
    &#39;present&#39;: {
      $package_ensure_default   = &#39;present&#39;
      if $enable {
        $service_ensure_default = &#39;running&#39;
        $service_enable_default = true
        $config_notify          = Service[&#39;yum-cron&#39;]
      } else {
        $service_ensure_default = &#39;stopped&#39;
        $service_enable_default = false
        $config_notify          = undef
      }
    }
    &#39;absent&#39;: {
      $package_ensure_default = &#39;absent&#39;
      $service_ensure_default = &#39;stopped&#39;
      $service_enable_default = false
      $config_notify          = undef
    }
    default: {
      # Do nothing
    }
  }

  $package_ensure_real = pick($package_ensure, $package_ensure_default)
  $service_ensure_real = pick($service_ensure, $service_ensure_default)
  $service_enable_real = pick($service_enable, $service_enable_default)

  if $apply_updates {
    $apply_updates_str    = &#39;yes&#39;
    $download_updates_str = &#39;yes&#39;
    $check_only           = &#39;no&#39;
    $download_only        = &#39;no&#39;
  } else {
    $apply_updates_str  = &#39;no&#39;
    $check_only         = &#39;yes&#39;

    if $download_updates {
      $download_updates_str = &#39;yes&#39;
      $download_only        = &#39;yes&#39;
    } else {
      $download_updates_str = &#39;no&#39;
      $download_only        = &#39;no&#39;
    }
  }

  contain yum_cron::install
  contain yum_cron::config
  contain yum_cron::service

  Class[&#39;yum_cron::install&#39;]
  -&gt; Class[&#39;yum_cron::config&#39;]
  -&gt; Class[&#39;yum_cron::service&#39;]
}</pre>
      </td>
    </tr>
  </table>
</div>
</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>